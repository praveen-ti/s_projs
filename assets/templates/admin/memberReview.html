<div id="page-wrapper">
    <div class="container-fluid">

        <div class="row">
            <div class="col-lg-12">
                <h4 class="page-header">MEMBER - REVIEWS</h4>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-6">
                <a class="btn btn-primary" href="admin/member/{{userId}}">Info</a>
                <a class="btn btn-primary active" href="admin/member/{{userId}}/review">Reviews</a>
                <a class="btn btn-primary" href="admin/member/{{userId}}/subscription">Subscriptions</a>
                <a class="btn btn-primary" href="admin/member/{{userId}}/referral">Referrals</a>
                <a class="btn btn-primary" href="admin/member/{{userId}}/photo">Photos</a>
                <a class="btn btn-primary" href="admin/member/{{userId}}/video">Videos</a>
            </div>
            <div class="col-lg-6">
                <label>Name: <a href="admin/member/{{member.id}}">{{member.firstname + ' ' + member.lastname + ' ( ' + member.username + ' ) '}}</a></label><br/>
                <label>Email: <a href="admin/member/{{member.id}}">{{member.email}}</a></label>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div style="border-bottom: 1px solid #eee; margin-bottom: 15px;">&nbsp;</div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">

                <div ng-show="(reviews.length >= 1)">
                    <div class="form-group" style="width: 450px">
                        <label style="float: left; width: 20%">Search :</label>
                        <input type="search" ng-model="reviewName" class="form-control" style="float: right; width: 80%" />
                    </div>
                    <br/><br/>

                    <table class="table table-striped table-hover">
                        <thead>
                            <tr class="info">
                                <th class="text-center">#</a></th>
                                <th class="text-center" style="width: 45%;">Review note</th>
                                <th class="text-center">Status</th>
                                <th class="text-center">Posted by</th>
                                <th class="text-center">Posted on</th>
                                <th class="text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="review in reviews| filter:reviewName | startFrom:currentPage * pageSize | limitTo:pageSize">
                                <td class="text-center">{{ (($index + 1) + (currentPage * pageSize))}}</td>
                                <td class="text-center" style="width: 45%;">{{ review.reviewNote}}</td>
                                <td class="text-center">{{ review.approvalStatus}}</td>
                                <td class="text-center"><a href="admin/member/{{review.uid}}">{{ review.firstname + ' ' + review.lastname}}</a></td>
                                <td class="text-center">{{ review.createdDatetime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                                <td class="text-center">
                                    <span ng-show="review.approvalStatus === 'notapproved'"> <a href="javascript:void(0)" ng-click="updateReviewStatus($event, review.id, 'approved')"> Approve</a></span>
                                    <span ng-show="review.approvalStatus === 'approved'"> <a href="javascript:void(0)" ng-click="updateReviewStatus($event, review.id, 'notapproved')"> Disapprove</a></span>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <span ng-show="(reviews.length >= (pageSize + 1))">
                        <button ng-disabled="currentPage == 0" ng-click="currentPage = currentPage - 1" class="btn btn-default">
                            Previous
                        </button>
                        <span class="btn btn-default">{{currentPage + 1}}/{{numberOfPages()}}</span>
                        <button ng-disabled="currentPage >= reviews.length / pageSize - 1" ng-click="currentPage = currentPage + 1" class="btn btn-default">
                            Next
                        </button>
                    </span>
                </div>

                <div ng-show="(reviews.length <= 0)" class="alert alert-info">
                    <strong>Info!</strong> No reviews found.
                </div>


            </div>
        </div>

    </div>
</div>
